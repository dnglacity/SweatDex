[
  {
    "schemaname": "public",
    "tablename": "game_rosters",
    "policyname": "game_rosters_delete_creator_owner",
    "roles": "{authenticated}",
    "operation": "DELETE",
    "using_expression": "((created_by = private.get_my_user_id()) OR is_team_owner(team_id))",
    "check_expression": null
  },
  {
    "schemaname": "public",
    "tablename": "game_rosters",
    "policyname": "game_rosters_insert_member",
    "roles": "{authenticated}",
    "operation": "INSERT",
    "using_expression": null,
    "check_expression": "is_team_member(team_id)"
  },
  {
    "schemaname": "public",
    "tablename": "game_rosters",
    "policyname": "game_rosters_select_member",
    "roles": "{authenticated}",
    "operation": "SELECT",
    "using_expression": "(team_id IN ( SELECT private.get_my_team_ids() AS get_my_team_ids))",
    "check_expression": null
  },
  {
    "schemaname": "public",
    "tablename": "game_rosters",
    "policyname": "game_rosters_update_member",
    "roles": "{authenticated}",
    "operation": "UPDATE",
    "using_expression": "(team_id IN ( SELECT private.get_my_team_ids() AS get_my_team_ids))",
    "check_expression": null
  },
  {
    "schemaname": "public",
    "tablename": "guardian_links",
    "policyname": "guardian_links_delete_own",
    "roles": "{authenticated}",
    "operation": "DELETE",
    "using_expression": "(user_id = private.get_my_user_id())",
    "check_expression": null
  },
  {
    "schemaname": "public",
    "tablename": "guardian_links",
    "policyname": "guardian_links_insert_authenticated",
    "roles": "{authenticated}",
    "operation": "INSERT",
    "using_expression": null,
    "check_expression": "(user_id = ( SELECT private.get_my_user_id() AS get_my_user_id))"
  },
  {
    "schemaname": "public",
    "tablename": "guardian_links",
    "policyname": "guardian_links_select_own",
    "roles": "{authenticated}",
    "operation": "SELECT",
    "using_expression": "((user_id = private.get_my_user_id()) OR (player_id IN ( SELECT players.id\n   FROM players\n  WHERE (players.user_id = private.get_my_user_id()))))",
    "check_expression": null
  },
  {
    "schemaname": "public",
    "tablename": "guardian_links",
    "policyname": "guardian_links_update_own",
    "roles": "{authenticated}",
    "operation": "UPDATE",
    "using_expression": "(user_id = ( SELECT private.get_my_user_id() AS get_my_user_id))",
    "check_expression": "(user_id = ( SELECT private.get_my_user_id() AS get_my_user_id))"
  },
  {
    "schemaname": "public",
    "tablename": "players",
    "policyname": "players_delete_coach",
    "roles": "{authenticated}",
    "operation": "DELETE",
    "using_expression": "(EXISTS ( SELECT 1\n   FROM team_members tm\n  WHERE ((tm.team_id = players.team_id) AND (tm.user_id = private.get_my_user_id()) AND (tm.role = ANY (ARRAY['coach'::text, 'owner'::text, 'team_manager'::text])))))",
    "check_expression": null
  },
  {
    "schemaname": "public",
    "tablename": "players",
    "policyname": "players_insert_coach",
    "roles": "{authenticated}",
    "operation": "INSERT",
    "using_expression": null,
    "check_expression": "is_team_member(team_id)"
  },
  {
    "schemaname": "public",
    "tablename": "players",
    "policyname": "players_select_member",
    "roles": "{authenticated}",
    "operation": "SELECT",
    "using_expression": "(team_id IN ( SELECT private.get_my_team_ids() AS get_my_team_ids))",
    "check_expression": null
  },
  {
    "schemaname": "public",
    "tablename": "players",
    "policyname": "players_update_member",
    "roles": "{authenticated}",
    "operation": "UPDATE",
    "using_expression": "(team_id IN ( SELECT private.get_my_team_ids() AS get_my_team_ids))",
    "check_expression": null
  },
  {
    "schemaname": "public",
    "tablename": "sports",
    "policyname": "sports_select_authenticated",
    "roles": "{authenticated}",
    "operation": "SELECT",
    "using_expression": "true",
    "check_expression": null
  },
  {
    "schemaname": "public",
    "tablename": "team_members",
    "policyname": "team_members_delete_self_owner",
    "roles": "{authenticated}",
    "operation": "DELETE",
    "using_expression": "((user_id = ( SELECT private.get_my_user_id() AS get_my_user_id)) OR ( SELECT is_team_owner(team_members.team_id) AS is_team_owner))",
    "check_expression": null
  },
  {
    "schemaname": "public",
    "tablename": "team_members",
    "policyname": "team_members_select_own_teams",
    "roles": "{authenticated}",
    "operation": "SELECT",
    "using_expression": "(team_id IN ( SELECT private.get_my_team_ids() AS get_my_team_ids))",
    "check_expression": null
  },
  {
    "schemaname": "public",
    "tablename": "team_members",
    "policyname": "team_members_update_owner",
    "roles": "{authenticated}",
    "operation": "UPDATE",
    "using_expression": "((user_id = ( SELECT private.get_my_user_id() AS get_my_user_id)) OR ( SELECT is_team_owner(team_members.team_id) AS is_team_owner))",
    "check_expression": null
  },
  {
    "schemaname": "public",
    "tablename": "teams",
    "policyname": "teams_delete_owner",
    "roles": "{authenticated}",
    "operation": "DELETE",
    "using_expression": "is_team_owner(id)",
    "check_expression": null
  },
  {
    "schemaname": "public",
    "tablename": "teams",
    "policyname": "teams_select_member",
    "roles": "{authenticated}",
    "operation": "SELECT",
    "using_expression": "(id IN ( SELECT private.get_my_team_ids() AS get_my_team_ids))",
    "check_expression": null
  },
  {
    "schemaname": "public",
    "tablename": "teams",
    "policyname": "teams_update_owner",
    "roles": "{authenticated}",
    "operation": "UPDATE",
    "using_expression": "is_team_owner(id)",
    "check_expression": "is_team_owner(id)"
  },
  {
    "schemaname": "public",
    "tablename": "users",
    "policyname": "users_delete_own",
    "roles": "{authenticated}",
    "operation": "DELETE",
    "using_expression": "(user_id = ( SELECT auth.uid() AS uid))",
    "check_expression": null
  },
  {
    "schemaname": "public",
    "tablename": "users",
    "policyname": "users_insert_own",
    "roles": "{authenticated}",
    "operation": "INSERT",
    "using_expression": null,
    "check_expression": "(user_id = ( SELECT auth.uid() AS uid))"
  },
  {
    "schemaname": "public",
    "tablename": "users",
    "policyname": "users_select_own",
    "roles": "{authenticated}",
    "operation": "SELECT",
    "using_expression": "((user_id = auth.uid()) OR (id IN ( SELECT tm2.user_id\n   FROM (team_members tm1\n     JOIN team_members tm2 USING (team_id))\n  WHERE (tm1.user_id = private.get_my_user_id()))))",
    "check_expression": null
  },
  {
    "schemaname": "public",
    "tablename": "users",
    "policyname": "users_update_own",
    "roles": "{authenticated}",
    "operation": "UPDATE",
    "using_expression": "(user_id = ( SELECT auth.uid() AS uid))",
    "check_expression": "(user_id = ( SELECT auth.uid() AS uid))"
  }
]